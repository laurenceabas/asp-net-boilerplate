@using AspNetBoilerPlate_Demo2.Web.Startup
@model IEnumerable<AspNetBoilerPlate_Demo2.Entities.Book>
@{
	ViewBag.ActiveMenu = PageNames.Books;
}

<h1>Books</h1>

<br />

<button class="btn btn-default" onclick="location.href='@Url.Action("NewBook", "Book")'">Add New Book</button>

<table class="table table-striped">
	<thead>
		<tr>
			<th scope="col">Id</th>
			<th scope="col">Title</th>
			<th scope="col">Author</th>
			<th scope="col">Date of Publish</th>
			<th scope="col"></th>
		</tr>
	</thead>
	<tbody>
		@if (Model.Count() < 1)
		{
			<tr>
				<th scope="row">0</th>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
		}
		else
		{
			foreach (var book in Model)
			{
				<tr>
					<th scope="row">@book.Id</th>
					<td>@book.Title</td>
					<td>@book.Author.Name</td>
					<td>@book.PublishedDate</td>
					<td>
						<a asp-action="NewBook" asp-route-id="@book.Id">Edit</a>
						|
						<a asp-action="DeleteBook" asp-route-id="@book.Id" class="text-danger ml-1" onclick="return confirm('Do you want to delete this book?')">Delete</a>

					</td>
				</tr>

			}
		}
	</tbody>
</table>